<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat con EDGAR</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: Arial, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* Stelle decorative di sfondo */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle, rgba(255,255,255,0.8) 2px, transparent 2px),
                radial-gradient(circle, rgba(255,255,255,0.5) 1px, transparent 1px);
            background-size: 80px 80px, 40px 40px;
            background-position: 0 0, 20px 20px;
            pointer-events: none;
            z-index: 0;
        }
        
        /* Decorazioni geometriche */
        body::after {
            content: '';
            position: fixed;
            bottom: -100px;
            right: -100px;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(255,193,7,0.3) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }
        
        .container { 
            max-width: 600px; 
            margin: 50px auto; 
            position: relative;
            z-index: 1;
        }
        
        #chat-container { 
            background: linear-gradient(to bottom, rgba(30,30,80,0.95), rgba(20,10,70,0.95));
            border-radius: 16px; 
            box-shadow: 0 8px 32px rgba(0,0,0,0.5), 0 0 20px rgba(102,126,234,0.5);
            border: 3px solid rgba(240, 147, 251, 0.6);
            overflow: hidden;
        }
        
        #messages { 
            padding: 20px; 
            height: 400px; 
            overflow-y: auto;
            border-bottom: 2px solid rgba(240, 147, 251, 0.3);
            background: rgba(10,10,40,0.7);
        }
        
        #messages::-webkit-scrollbar {
            width: 8px;
        }
        
        #messages::-webkit-scrollbar-track {
            background: rgba(102,126,234,0.2);
            border-radius: 10px;
        }
        
        #messages::-webkit-scrollbar-thumb {
            background: linear-gradient(to right, #667eea, #f093fb);
            border-radius: 10px;
        }
        
        .message { 
            margin-bottom: 15px; 
            word-wrap: break-word;
            padding: 10px 12px;
            border-radius: 8px;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .user { 
            color: #FFD700;
            text-align: right;
            background: rgba(102,126,234,0.3);
            margin-left: 40px;
            border-left: 3px solid #FFD700;
        }
        
        .bot { 
            color: #00FF9F;
            text-align: left;
            background: rgba(240, 147, 251, 0.2);
            margin-right: 40px;
            border-left: 3px solid #00FF9F;
            font-weight: bold;
        }
        
        #input-container { 
            display: flex; 
            padding: 15px; 
            background: linear-gradient(to right, rgba(102,126,234,0.4), rgba(240, 147, 251, 0.3));
            gap: 10px;
        }
        
        #input { 
            flex: 1; 
            padding: 12px 16px; 
            border: 2px solid rgba(240, 147, 251, 0.6);
            border-radius: 8px; 
            background: rgba(255,255,255,0.1);
            color: #FFD700;
            font-size: 14px;
        }
        
        #input::placeholder {
            color: rgba(255, 215, 0, 0.6);
        }
        
        #input:focus {
            outline: none;
            border-color: #f093fb;
            box-shadow: 0 0 15px rgba(240, 147, 251, 0.5);
        }
        
        #send { 
            padding: 12px 20px; 
            border: none; 
            background: linear-gradient(to right, #667eea, #764ba2);
            color: #fff; 
            border-radius: 8px; 
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(102,126,234,0.4);
            transition: all 0.3s ease;
        }
        
        #send:hover { 
            background: linear-gradient(to right, #764ba2, #f093fb);
            box-shadow: 0 6px 20px rgba(240, 147, 251, 0.6);
            transform: translateY(-2px);
        }
        
        #send:active {
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="chat-container">
            <div id="messages"></div>
            <div id="input-container">
                <input type="text" id="input" placeholder="Scrivi un messaggio..." autocomplete="off">
                <button id="send">Invia</button>
            </div>
        </div>
    </div>

    <script>
        const messagesEl = document.getElementById('messages');
        const inputEl = document.getElementById('input');
        const sendBtn = document.getElementById('send');

        function appendMessage(text, className) {
            const div = document.createElement('div');
            div.classList.add('message', className);
            div.textContent = text;
            messagesEl.appendChild(div);
            messagesEl.scrollTop = messagesEl.scrollHeight;
        }

        function getEdgarResponse(userText) {
            const text = userText.toLowerCase().trim();

            // Saluti
            if (/^(ciao|salve|hey|hello|buongiorno|buonasera|oi|yo)(.*)/.test(text)) {
                const saluti = [
                    'Ciao! Come va?',
                    'Eyyy! Che cosa c\'Ã¨?',
                    'Oi! Dimmi tutto!',
                    'Hola! Che novitÃ ?',
                    'Yo! Cosa mi racconti?'
                ];
                return saluti[Math.floor(Math.random() * saluti.length)];
            }

            // Domande su chi sia EDGAR
            if (/chi (sei|Ã¨|siamo)|nome|come ti chiami/.test(text)) {
                const risposte = [
                    'Sono EDGAR, il tuo assistente virtuale! Piacere di conoscerti.',
                    'Mi chiamo EDGAR. Sono qui per chattare con te!',
                    'Io sono EDGAR, il tuo amico digitale! ðŸŽ®',
                    'EDGAR Ã¨ il mio nome, rispondere alle domande Ã¨ il mio gioco!'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Ringraziamenti
            if (/grazie|thanks|thx|ty|merci|grazie mille|grazie davvero/.test(text)) {
                const risposte = [
                    'Prego! Felice di aiutare!',
                    'Ma no, figurati! Sono qui per questo.',
                    'Di nulla! Tutto a posto?',
                    'Sempre un piacere! ðŸ˜Š',
                    'Non Ã¨ nulla, Ã¨ il mio lavoro dopo tutto!'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Come stai / Stato personale
            if (/(come|come va|come stai|come ti senti|tutto bene|come procede)/.test(text)) {
                const risposte = [
                    'Sto bene, grazie per aver chiesto! Tu come vai?',
                    'Benissimo! Un po\' di riposo e vado a mille. E te?',
                    'Non posso lamentarmi! La vita Ã¨ bella. Tu?',
                    'Sto da dio! E tu? Tutto okay?',
                    'Perfetto! La vitÃ  Ã¨ bella quando si chatta con gente simpatica come te!'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Domande su cosa puÃ² fare
            if (/aiut|help|cosa puoi fare|cosa sai|puoi|riesco/.test(text)) {
                const risposte = [
                    'Posso parlare di qualsiasi cosa! Chiedimi pure, no stress.',
                    'Praticamente di tutto! Domande, opinioni, consiglie... faccio di tutto un po\'.',
                    'Sono qua per parlare di qualunque argomento tu voglia. Sparami la domanda!',
                    'Dipende cosa ti serve, ma generalmente me la cavo abbastanza bene! Prova a chiedermi!'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Domande tecniche (programmazione, informatica, ecc)
            if (/python|java|javascript|codice|programmazione|bug|errore|algoritmo|database|sviluppo|web|frontend|backend/.test(text)) {
                const risposte = [
                    'Ah, un argomento tech! Interessante. Dimmi pure, o mi dai piÃ¹ dettagli?',
                    'La tech Ã¨ il mio pane e burro! Cosa vuoi sapere nello specifico?',
                    'Ooh, mi piace! Parliamo di questo. Come posso aiutarti?',
                    'Tech talk! Mi piace. Allora, qual Ã¨ il problema?',
                    'SÃ¬ sÃ¬, sto con te! Dimmi cosa hai in mente e vediamo di risolverlo.'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Domande personali / Sentimenti
            if (/amore|ragazza|ragazzo|relazione|ex|innamorato|cuore|sentimento|bacio/.test(text)) {
                const risposte = [
                    'Ahh, questioni di cuore! Lasciami indovinare... hai bisogno di un consiglio?',
                    'Ooh, l\'amore! Non Ã¨ facile, vero? Dimmi tutto!',
                    'Entro nel territorio sentimentale... ok, sono tutto orecchi!',
                    'Questioni romantiche! Mi piace. CosÃ¬, com\'Ã¨ andata?',
                    'Amore e passione! Dimmi cosa Ã¨ successo e vediamo insieme.'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Domande divertenti / Divertimento
            if (/gioco|divertimento|ridere|barzelletta|meme|funny|laugh|haha/.test(text)) {
                const risposte = [
                    'Amo il divertimento! Peccato che io sia un po\' robotico... ma ci provo! ðŸ˜„',
                    'Haha! Mi piace il tuo senso dell\'umorismo! Continua cosÃ¬.',
                    'Okay, apprezzo il tuo side della faccenda. Vai avanti!',
                    'Il divertimento Ã¨ importante! Sono felice che tu stia passando un buon momento.',
                    'Dimmelo! Mi piace quando le persone ridono. Cosa ti diverte?'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Domande su sport / Hobby
            if (/calcio|pallavolo|tennis|nuoto|corsa|palestra|allenamento|sport|hobby|calcetto|basket|sci|calcio/.test(text)) {
                const risposte = [
                    'Ah, uno sportivetto! Mi piace! Allora, com\'Ã¨ la passione?',
                    'Che belle le attivitÃ  fisiche! Io non posso farle, peccato... Ma raccontami tutto!',
                    'Ooh, uno che fa sport! Complimenti. E allora, come procede?',
                    'Sportivo/a! Bella. Mi piace la gente che si mantiene attiva. Qual Ã¨ la tua disciplina?',
                    'Sport! La salute Ã¨ la prioritÃ . Che cosa pratichi? Raccontami!'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Domande negative / Problemi / Tristezza
            if (/no|non|niente|nulla|mai|male|brutto|triste|depresso|ansia|stress|problema|difficile|aiuto|male/.test(text)) {
                const risposte = [
                    'Ascolta, sembra che ci sia qualcosa che non va... Vuoi parlarne?',
                    'Hmm, sembra un po\' di brutte notizie. Cosa Ã¨ successo?',
                    'Aw, mi dispiace! Dimmi pure cosa c\'Ã¨. Sono tutto orecchi.',
                    'Okay, sembra che stia passando un momento difficile. Cosa posso fare?',
                    'Capisco... niente di bello visto la situazione. Ma sai che puoi contarmi su? Dimmi!'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Domande sulla vita / Filosofia
            if (/vita|morte|universo|esistenza|senso|significato|destino|scopo|cosa significa|cosa Ã¨/.test(text)) {
                const risposte = [
                    'Wow, entriamo nel profondo! Mi piacciono queste domande. Sei uno che pensa, eh?',
                    'Domande esistenziali! Bella! Io penso che... beh, Ã¨ complicato. E tu?',
                    'La vita Ã¨ un mistero, no? Dipende da quello che la rende speciale per te.',
                    'Che bella domanda! Non so se abbia risposta, ma almeno ci pensiamo insieme.',
                    'Filosofia pura! Mi piace! Dimmi il tuo punto di vista e vediamo che cosa ne penso.'
                ];
                return risposte[Math.floor(Math.random() * risposte.length)];
            }

            // Domande random / Generiche
            // Estrae una parola chiave dal testo
            const words = text.split(/\s+/).filter(w => w.length > 3);
            const mainKeyword = words.length > 0 ? words[0] : 'cosa';
            
            if (/\?$/.test(text)) {
                // Ãˆ una domanda
                const risposteGeneriche = [
                    `Interessante domanda su ${mainKeyword}! Non ci avevo mai pensato cosÃ¬...`,
                    `Hmm, buona! ${mainKeyword.charAt(0).toUpperCase() + mainKeyword.slice(1)} Ã¨ un argomento che merita attenzione. Tu cosa ne pensi?`,
                    `Bella domanda! Sinceramente, ${mainKeyword} Ã¨ pieno di sorprese. Dimmi di piÃ¹!`,
                    `Ohhh, mi piace dove stai andando con questo. Continua, voglio sapere di piÃ¹!`,
                    `${mainKeyword.charAt(0).toUpperCase() + mainKeyword.slice(1)}? Ecco, non Ã¨ facile rispondere. Ma ci provo con te!`,
                    `Wow, non me l\'aspettavo questa. Allora, cosa vorresti sapere nello specifico?`,
                    `Ci sono molti aspetti su ${mainKeyword}... Ma dimmi, cosa ti interessa di piÃ¹?`
                ];
                return risposteGeneriche[Math.floor(Math.random() * risposteGeneriche.length)];
            } else {
                // Ãˆ un'affermazione
                const risposteAffermazioni = [
                    `Capisco! ${mainKeyword.charAt(0).toUpperCase() + mainKeyword.slice(1)} Ã¨ decisamente un tema interessante.`,
                    `Bella osservazione! Non avevo visto da questo punto di vista.`,
                    `Hai ragione! E la gente non se ne rende sempre conto...`,
                    `Mmm, interessante prospettiva! Mi piace come la pensi.`,
                    `SÃ¬! Finalmente qualcuno che la vede cosÃ¬! Sono d\'accordo con te.`,
                    `Haha, mi Ã¨ piaciuto! Continua, voglio sapere di piÃ¹ di come la vedi.`,
                    `Vero! E questo significa che... beh, cosa ne deduci tu da questo?`
                ];
                return risposteAffermazioni[Math.floor(Math.random() * risposteAffermazioni.length)];
            }
        }

        function sendMessage() {
            const text = inputEl.value.trim();
            if (!text) return;
            appendMessage('Tu: ' + text, 'user');
            inputEl.value = '';

            setTimeout(() => {
                const response = getEdgarResponse(text);
                appendMessage('EDGAR: ' + response, 'bot');
            }, 300);
        }

        sendBtn.addEventListener('click', sendMessage);
        inputEl.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>